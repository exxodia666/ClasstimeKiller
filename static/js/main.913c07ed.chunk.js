(this.webpackJsonpQTest=this.webpackJsonpQTest||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},54:function(e,t,c){},79:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),a=c.n(s),i=c(25),r=c.n(i),u=(c(54),c(55),c(7)),o=c(20),l=c(4),d="QUIZ/SHOW_QUIZZES",j="QUIZ/LOAD_QUIZZES",b="QUIZ/SET_SELECTED",O="QUIZ/SET_DONE",h="QUIZ/CLEAR_QUIZ",p="QUIZ/LOAD_QUIZZES_ERROR",x=function(){return{type:h}},m=function(e){return{type:p,payload:e}},v={status:null,message:null,quiz:{},questions:[]},f=c(18),_="RESULT/LOAD_RESULTS",g="RESULT/LOAD_RESULTS_SUCCESS",N="RESULT/LOAD_RESULTS_ERROR",q=function(e){return{type:N,payload:e}},y={status:null,results:[],message:""},S="ANSWERS/SAVE_ANSWERS",w={name:null,answers:[]},k="QUIZ/LOAD_QUIZ_LIST",E="QUIZ/SHOW_QUIZ_LIST",z="QUIZ/LOAD_QUIZ_LIST_ERROR",I=function(e){return{type:E,payload:e}},R={status:null,message:null},C="QUIZ/ADD_NEW_QUIZ",U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},T="USER/ADD_USER";var D="USER/DELETE_USER";var A="USER/LOGIN_SUCCESS";var L="USER/LOGOUT_SUCCESS";var Q="USER/ERROR";function Z(e){return{type:Q,payload:e}}var W={loggedIn:!1,user:{editing_key:"",id:"",name:""},status:null,message:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!0,user:Object(l.a)({},t.payload.data.dude),status:200});case L:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!1,user:{editing_key:"",id:"",name:""},status:200});case Q:return Object(l.a)(Object(l.a)({},e),{},{message:t.payload.message,status:400});default:return e}},G="RESULT/LOAD_QUIZ_RATING",B="RESULT/LOAD_QUIZ_RATING_SUCCESS",J="RESULT/LOAD_QUIZ_RATING_ERROR",M=function(e){return{type:J,payload:e}},H={status:null,quiz_results:[],message:""},K="TEST/ADD_TEST",P="TEST/ADD_TEST_SUCCESS",$="TEST/ADD_TEST_ERROR",V="TEST/RESET_TEST";function X(e){return{type:$,payload:e}}var Y={status:"idle",message:""},ee=Object(o.c)({quizzes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(l.a)({},v);case d:var c=t.payload.data.questions.map((function(e){var t=e.choices.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isSelected:!1})}));return e.choices=t,e.isDone=!1,e})),n={status:t.payload.status,questions:c,quiz:t.payload.data.quiz};return n;case O:var s=e.questions.find((function(e){return e.question.id===t.payload})),a=e.questions.indexOf(s),i=Object(l.a)({},e);return i.questions[a].isDone=!0,Object(l.a)({},i);case b:var r=Object(l.a)({},e),u=r.questions.find((function(e){return e.question.id===t.payload.id})),o=r.questions.indexOf(u),j=r.questions[o].choices.find((function(e){return e.id===t.payload.answ})),x=r.questions[o].choices.indexOf(j);if(!r.questions[o].question.is_multiple_choice){var m=r.questions[o].choices.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isSelected:!1})}));r.questions[o].choices=m}return r.questions[o].choices[x].isSelected=!r.questions[o].choices[x].isSelected,Object(l.a)({},r);case p:return Object(l.a)(Object(l.a)({},v),{},{status:404,message:t.payload});default:return e}},results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(l.a)(Object(l.a)({},e),{},{results:Object(f.a)(t.payload.data.dude.results),status:200});case N:return Object(l.a)(Object(l.a)({},e),{},{message:t.payload.message,status:400});default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:var c=Object(f.a)(e.answers);return c.push(t.payload.answer),{name:t.payload.name,answers:c};default:return e}},quiz_list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(l.a)(Object(l.a)({},e),t.payload);case z:return{status:t.payload.status,message:t.payload.message};default:return e}},addedQuizes:U,user:F,add_test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(l.a)(Object(l.a)({},e),{},{status:t.payload.status,action:t.payload.data});case $:return{status:404,message:t.payload};case V:return Object(l.a)({},Y);default:return e}},quiz_rating:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(l.a)(Object(l.a)({},e),{},{quiz_results:Object(f.a)(t.payload.data.results),status:200});case J:return Object(l.a)(Object(l.a)({},e),{},{message:t.payload,status:400});default:return e}}}),te=c(48),ce=c(5),ne=c.n(ce),se=c(12),ae=c.n(se),ie=c(6),re=ne.a.mark(le),ue=ne.a.mark(de),oe=function(e){return ae.a.get("https://questimie.herokuapp.com/api/".concat(e))};function le(e){var t;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(ie.a)(oe,e.payload);case 3:return t=c.sent,c.next=6,Object(ie.b)({type:d,payload:t});case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(ie.b)(m(c.t0.message));case 12:case"end":return c.stop()}}),re,null,[[0,8]])}function de(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(j,le);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),ue,null,[[0,5]])}var je="ANSWERS/SEND_ANSWERS",be=ne.a.mark(pe),Oe=ne.a.mark(xe),he=function(e){var t=e.obj,c=e.id;return ae.a.post("https://questimie.herokuapp.com/api/".concat(c,"/answer/"),t)};function pe(e){var t;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t={dude_id:e.payload.user,answers:e.payload.obj.map((function(e){return{question_id:e.question.id,choices_id:e.choices.filter((function(e){return e.isSelected})).map((function(e){return e.id}))}}))},c.next=3,Object(ie.a)(he,{obj:t,id:e.payload.id});case 3:c.sent;case 4:case"end":return c.stop()}}),be)}function xe(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(je,pe);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),Oe,null,[[0,5]])}var me=ne.a.mark(_e),ve=ne.a.mark(ge),fe=function(){return ae.a.get("https://questimie.herokuapp.com/api/")};function _e(){var e;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ie.a)(fe);case 3:return e=t.sent,t.next=6,Object(ie.b)(I(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(ie.b)(I({status:404,message:t.t0.message}));case 12:case"end":return t.stop()}}),me,null,[[0,8]])}function ge(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(k,_e);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),ve,null,[[0,5]])}var Ne=ne.a.mark(Se),qe=ne.a.mark(we),ye=function(e){return ae()({method:"post",url:"https://questimie.herokuapp.com/api/",data:e})};function Se(e){var t;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(ie.a)(ye,{quiz:e.payload});case 3:return t=c.sent,c.next=6,Object(ie.b)({type:P,payload:t});case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(ie.b)(X(c.t0));case 12:case"end":return c.stop()}}),Ne,null,[[0,8]])}function we(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(K,Se);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),qe,null,[[0,5]])}var ke=ne.a.mark(Ue),Ee=ne.a.mark(Te),ze=ne.a.mark(De),Ie=ne.a.mark(Ae),Re=function(e){var t={name:e};return ae()({method:"post",url:"https://questimie.herokuapp.com/api/dude",data:{dude:t}})},Ce=function(e){var t=e.id,c={editing_key:e.key};return ae()({method:"delete",url:"https://questimie.herokuapp.com/api/dude/".concat(t),data:c})};function Ue(e){var t;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(ie.a)(Re,e.payload);case 3:return t=c.sent,c.next=6,Object(ie.b)({type:A,payload:t});case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(ie.b)(Z(c.t0));case 12:case"end":return c.stop()}}),ke,null,[[0,8]])}function Te(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(T,Ue);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),Ee,null,[[0,5]])}function De(e){var t;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(ie.a)(Ce,Object(l.a)({},e.payload));case 3:return t=c.sent,c.next=6,Object(ie.b)({type:L,payload:t});case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(ie.b)(Z(c.t0));case 12:case"end":return c.stop()}}),ze,null,[[0,8]])}function Ae(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(D,De);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),Ie,null,[[0,5]])}var Le=ne.a.mark(We),Qe=ne.a.mark(Fe),Ze=function(e){return ae()({method:"get",url:"https://questimie.herokuapp.com/api/dude/".concat(e)})};function We(e){var t;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(ie.a)(Ze,e.payload);case 3:return t=c.sent,c.next=6,Object(ie.b)({type:g,payload:t});case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(ie.b)(q(c.t0));case 12:case"end":return c.stop()}}),Le,null,[[0,8]])}function Fe(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(_,We);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),Qe,null,[[0,5]])}var Ge=ne.a.mark(Me),Be=ne.a.mark(He),Je=function(e){return ae()({method:"get",url:"https://questimie.herokuapp.com/api/".concat(e,"/answer/")})};function Me(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ie.c)(G,He);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),Ge,null,[[0,5]])}function He(e){var t;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(ie.a)(Je,e.payload);case 3:return t=c.sent,c.next=6,Object(ie.b)({type:B,payload:t});case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(0),c.next=12,Object(ie.b)(M(c.t0));case 12:case"end":return c.stop()}}),Be,null,[[0,8]])}var Ke=Object(te.a)(),Pe=function(){try{var e=localStorage.getItem("state");return null===e?[]:JSON.parse(e)}catch(t){return}}(),$e=Object(o.e)(ee,Pe,Object(o.d)(Object(o.a)(Ke)));Ke.run(de),Ke.run(xe),Ke.run(ge),Ke.run(we),Ke.run(Fe),Ke.run(Te),Ke.run(Ae),Ke.run(Me);var Ve=$e;$e.subscribe((function(){!function(e){try{var t=JSON.stringify({user:Object(l.a)(Object(l.a)({},e.user),{},{message:"",status:null})});localStorage.setItem("state",t)}catch(c){}}($e.getState())}));var Xe=c(14),Ye=c(10),et=c(11);c(79);function tt(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.user})),c=Object(s.useState)(""),a=Object(et.a)(c,2),i=a[0],r=a[1],o=Object(s.useState)(""),l=Object(et.a)(o,2),d=l[0],j=l[1];var b=Object(u.c)((function(e){return e.user.user.name}));return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("div",{className:"overlay ".concat(d),onClick:function(){r(""==i?"active":""),j(""==d?"overlay_active":"")}}),Object(n.jsxs)("div",{className:"header__body",children:[Object(n.jsx)(Xe.b,{to:"/",className:"header__logo",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:"Q"}),"TEST"]})}),Object(n.jsx)("nav",{className:"header__menu ".concat(i),children:Object(n.jsx)("ul",{className:"header__list",children:Object(n.jsx)("li",{children:Object(n.jsx)(Xe.b,{to:"/add",className:"header__link",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"})})})}),b&&Object(n.jsx)("div",{className:"dropdown-container",children:Object(n.jsxs)("div",{className:"dropdown",children:[Object(n.jsx)("p",{className:"dropbtn",children:Object(n.jsx)("p",{children:b})}),Object(n.jsxs)("div",{className:"dropdown-content",style:{minWidth:8*b.length},children:[Object(n.jsx)(Xe.b,{to:"/results",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),Object(n.jsx)(Xe.b,{onClick:function(){t.user.editing_key.length&&e(function(e){return{type:D,payload:e}}({id:t.user.id,key:t.user.editing_key}))},className:"logout",children:"\u0412\u0438\u0439\u0442\u0438"})]})]})}),Object(n.jsx)("div",{className:"header__burger ".concat(i),onClick:function(){r(""==i?"active":""),j(""==d?"overlay_active":"")},children:Object(n.jsx)("span",{})})]})]})}c(81);var ct=function(){return Object(n.jsx)("div",{class:"loader_container",children:Object(n.jsx)("div",{})})};c(82);function nt(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.quiz_list})),c=Object(s.useState)(""),a=Object(et.a)(c,2),i=a[0],r=a[1],o=Object(Ye.f)(),l=Object(s.useState)(""),d=Object(et.a)(l,2),j=d[0],b=d[1];Object(u.c)((function(e){return e.user.loggedIn}))||o.push("/"),Object(s.useEffect)((function(){e({type:k})}),[e]);return 200===t.status?Object(n.jsx)("div",{className:"content_container_home",children:Object(n.jsxs)("div",{className:"content__home",children:[Object(n.jsx)("div",{className:"title_container_home",children:Object(n.jsx)("p",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"})}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"search_container",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)("div",{})}),Object(n.jsx)("input",{id:"text",value:i,onChange:function(e){return r(e.target.value)},type:"text",className:"text-input",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0442\u0435\u0441\u0442\u0430"})]}),Object(n.jsxs)("div",{class:"private_container",children:[Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)("div",{})}),Object(n.jsx)("input",{type:"text",className:"text-input",id:"text_private",onKeyPress:function(e){if("Enter"===e.code){var t=e.target.value;/^((\w){8})-((\w){4})-((\w){4})-((\w){4})-((\w){12})$/g.test(t)&&o.push("/quiz/".concat(e.target.value))}},value:j,onChange:function(e){return b(e.target.value)},placeholder:"\u0412\u0432\u0435\u0441\u0442\u0438 ID \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430"}),Object(n.jsx)("div",{onClick:function(e){/^((\w){8})-((\w){4})-((\w){4})-((\w){4})-((\w){12})$/g.test(j)&&o.push("/quiz/".concat(j))},class:"private_search",children:Object(n.jsx)("div",{})})]})]}),t.data.quizzes.filter((function(e){return!i.length||!e.quiz_name.toLowerCase().indexOf(i.trim().toLowerCase(),0)})).map((function(e){return Object(n.jsx)("div",{className:"quizbox_container",children:Object(n.jsxs)(Xe.b,{className:"quizbox__",to:"/quiz/".concat(e.id),children:[Object(n.jsx)("div",{className:"quiz-title",children:Object(n.jsx)("p",{children:e.quiz_name})}),Object(n.jsx)("div",{className:"quiz-quantity",children:Object(n.jsxs)("p",{children:["\u041a\u043e\u043b-\u0432\u043e \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432: ",e.questions_count]})})]})},e.id)}))]})}):404===t.status?Object(n.jsxs)("p",{children:["ERROR: ",t.message]}):Object(n.jsx)(ct,{})}var st=a.a.memo(nt);c(43);function at(e){var t=e.state,c=e.handleSelect,s=e.selectedQuestion,a=e.finishTest;return t.length?Object(n.jsxs)("div",{className:"leftbar",children:[Object(n.jsx)("div",{className:"quizlist",children:t&&t.map((function(e,t){return Object(n.jsx)("div",{className:"quizlist_item ".concat(e.isDone?"voted":"unvoted"," ").concat(s===t?"current":""),children:Object(n.jsxs)("a",{children:[Object(n.jsx)("span",{children:t+1}),Object(n.jsx)("p",{className:"quizlist_item_name",onClick:function(){return c(t)},children:e.wording}),Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)("div",{})})]},t)})}))}),Object(n.jsx)("div",{className:"complete-btn_container",children:Object(n.jsx)("a",{href:"",className:"complete-btn",onClick:a,children:Object(n.jsx)("p",{children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u0441\u0442"})})})]}):Object(n.jsx)(ct,{})}var it=a.a.memo(at),rt=function(e){var t=e.isDone,c=e.id,a=e.text,i=e.wording,r=e.answers,o=e.imageUrl,l=e.selectedQuestion,d=e.handleSelect,j=Object(u.b)(),h=Object(s.useState)(""),p=Object(et.a)(h,2),x=p[0],m=p[1],v=function(e){var t;j((t={answ:e.target.value,id:c},{type:b,payload:t}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"content ".concat(x),children:Object(n.jsxs)("div",{className:"quiz_body",children:[Object(n.jsx)("div",{className:"title_container",children:Object(n.jsx)("p",{children:"\u0412\u043e\u043f\u0440\u043e\u0441 \u2116".concat(l+1)})}),Object(n.jsx)("div",{className:"quizname",children:Object(n.jsx)("p",{children:i})}),o&&Object(n.jsx)("div",{className:"image_container",children:Object(n.jsx)("img",{width:550,src:o.picture})}),Object(n.jsx)("div",{className:"description_container",children:Object(n.jsx)("p",{children:a})}),Object(n.jsx)("div",{className:"checkbox_container",children:r.map((function(e){return Object(n.jsxs)("div",{className:"checkbox",children:[Object(n.jsx)("input",{disabled:t,onChange:v,checked:e.isSelected,value:e.id,id:e.id,type:"checkbox"}),Object(n.jsx)("label",{htmlFor:e.id,children:Object(n.jsx)("p",{children:e.text})})]})}))}),Object(n.jsx)("div",{className:"buttons_container",children:Object(n.jsx)("input",{type:"button",className:"button_vote button",value:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",disabled:t,onClick:function(){j({type:O,payload:c}),d(l+1)}})})]})}),Object(n.jsx)("div",{className:"list-btn_container",children:Object(n.jsxs)("a",{className:"list-btn",onClick:function(e){e.preventDefault(),document.getElementsByClassName("leftbar")[0].classList.toggle("leftbar_active"),document.getElementsByClassName("header__burger")[0].classList.remove("active"),document.getElementsByClassName("header__menu")[0].classList.remove("active"),m(""==x?"content_inactive":"")},children:[Object(n.jsx)("p",{children:"\u0421\u043f\u0438\u0441\u043e\u043a"}),Object(n.jsx)("div",{className:"arrow",children:Object(n.jsx)("div",{className:"arrow_icon"})})]})})]})},ut=Object(s.memo)(rt),ot=Object(s.memo)((function(){var e=Object(Ye.g)().id,t=Object(u.b)(),c=Object(u.c)((function(e){return e.quizzes})),a=Object(s.useState)(0),i=Object(et.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)([]),d=Object(et.a)(l,2),b=d[0],O=d[1],h=Object(Ye.f)(),p=c.questions.find((function(e){return!1===e.isDone}));Object(u.c)((function(e){return e.user.loggedIn}))||h.push("/"),Object(s.useEffect)((function(){return t({type:j,payload:e}),function(){t(x())}}),[t,e]),Object(s.useEffect)((function(){p||200!==c.status||h.push("/done/".concat(e))}),[p,e,h,c.status]);var m=function(e){o(e%v().length)},v=function(){return c.questions.map((function(e){return{wording:e.question.wording,isDone:e.isDone}}))};return 200===c.status?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(it,{selectedAnswers:b,state:v(),handleSelect:m,selectedQuestion:r}),Object(n.jsx)(ut,{selectedQuestion:r,handleSelect:m,isDone:c.questions[r].isDone,setSelectedAnswers:function(e){O([].concat(Object(f.a)(b),[e]))},imageUrl:c.questions[r].question.image,id:c.questions[r].question.id,text:c.questions[r].question.text,wording:c.questions[r].question.wording,answers:c.questions[r].choices,multiple:c.questions[r].question.is_multiple_choice})]}):404===c.status?Object(n.jsxs)("p",{children:["ERROR: ",c.message]}):Object(n.jsx)(ct,{})}));c(44);function lt(e){var t=e.pass_date,c=e.name,s=e.rating;return Object(n.jsx)("div",{className:"quizbox_container",children:Object(n.jsxs)("div",{className:"quizbox",children:[Object(n.jsx)("div",{className:"quiz-info",children:Object(n.jsxs)("div",{className:"quiz-title",children:[Object(n.jsx)("p",{children:c}),Object(n.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0441\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f: ",new Date(t).toLocaleDateString()]})]})}),Object(n.jsxs)("div",{className:"quiz-result",children:[Math.round(s),"/100"]})]})})}function dt(e){e.message;return Object(n.jsx)("div",{className:"input-error_container",children:Object(n.jsx)("p",{className:"input-error",children:"*\u041e\u0448\u0438\u0431\u043a\u0430"})})}function jt(){var e=Object(u.b)(),t=Object(Ye.f)(),c=Object(u.c)((function(e){return e.results})),s=Object(u.c)((function(e){return e.user})),i=Object(u.c)((function(e){return e.user.loggedIn}));return a.a.useEffect((function(){i||t.push("/")}),[i]),a.a.useEffect((function(){var t;e((t=s.user.id,{type:_,payload:t}))}),[]),400===s.status&&s.message.length?Object(n.jsx)(dt,{message:s.message}):200===c.status||c.results.length?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"content_container_results",children:Object(n.jsxs)("div",{className:"content___",children:[Object(n.jsx)("div",{className:"title_container",children:Object(n.jsx)("p",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})}),c.results.length&&c.results.map((function(e){return Object(n.jsx)(lt,{pass_date:e.pass_date,name:e.quiz.quiz_name,rating:100*e.rating})}))||Object(n.jsx)("div",{className:"title_container",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u043b\u044e\u0431\u043e\u0439 \u0442\u0435\u0441\u0442"})]})})}):Object(n.jsx)(ct,{})}c(45);var bt=function(){var e=Object(s.useRef)(null),t=Object(u.b)(),c=Object(Ye.f)(),i=Object(u.c)((function(e){return e.user.loggedIn})),r=Object(u.c)((function(e){return e.user.status})),o=Object(u.c)((function(e){return e.user.message}));i&&c.push("/home");var l=a.a.useState(""),d=Object(et.a)(l,2),j=d[0],b=d[1],O=function(){e.current.value.length?(t(function(e){return{type:T,payload:e}}(e.current.value)),e.current.value=""):b("Enter name")};return 400===r&&o.length?Object(n.jsx)(dt,{message:o}):Object(n.jsx)("div",{className:"content__auth",children:Object(n.jsxs)("div",{className:"autorization_container",children:[Object(n.jsx)("div",{className:"title_container",children:Object(n.jsx)("p",{className:"title",children:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430, \u043f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u043d\u0430\u0448\u0443 \u043d\u0435\u0441\u043b\u043e\u0436\u043d\u0443\u044e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043b\u0443\u0447\u0448\u0438\u043c \u0442\u0435\u0441\u0442\u0430\u043c"})}),Object(n.jsx)("div",{className:"name-input_container",children:Object(n.jsx)("input",{ref:e,onKeyPress:function(e){"Enter"===e.key&&O()},id:"icon_prefix",type:"text",className:"text-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"})}),j&&Object(n.jsx)(dt,{}),Object(n.jsx)("div",{className:"button_container",children:Object(n.jsx)("input",{onClick:function(){O()},type:"button",className:"button_vote button",value:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})})]})})},Ot=c(22);c(46);var ht=function(e){var t=e.question_id,c=e.choise_id,s=e.deleteAnswer;return Object(n.jsxs)("div",{className:"answer_container",children:[Object(n.jsxs)("div",{className:"checkbox",children:[Object(n.jsx)("input",{name:"choice-is_correct-".concat(t,"-").concat(c),type:"checkbox",id:"checkbox_".concat(t,"-").concat(c),className:"inp"}),Object(n.jsx)("label",{for:"checkbox_".concat(t,"-").concat(c)})]}),Object(n.jsx)("input",{name:"choice-text-".concat(t,"-").concat(c),type:"text",className:"text-input",placeholder:"\u041e\u0442\u0432\u0435\u0442 ".concat(c+1)}),Object(n.jsx)("p",{style:{color:"red",fontSize:"25px",margin:"0 0 0 10px"},id:"btn_".concat(t,"-").concat(c),onClick:function(){return s(t,"choise_id",c)},children:"\xd7"})]})};function pt(e){var t=e.addAnswers,c=e.question_id,a=e.choices,i=e.deleteQuestion,r=e.deleteAnswer,u=Object(s.useState)(null),o=Object(et.a)(u,2),l=o[0],d=o[1],j=Object(s.useState)(null),b=Object(et.a)(j,2),O=b[0],h=b[1],p=Object(s.useState)(null),x=Object(et.a)(p,2),m=x[0],v=x[1],f=Object(s.useState)(!1),_=Object(et.a)(f,2),g=_[0],N=_[1];return Object(n.jsxs)("div",{className:"question_container",children:[Object(n.jsxs)("div",{className:"question-title_container",children:[Object(n.jsxs)("p",{children:["\u0412\u043e\u043f\u0440\u043e\u0441 ",c+1]}),Object(n.jsx)("p",{className:"krestik",onClick:function(){i(c,"question_id")},id:"question-wording-".concat(c),children:"\xd7"})]}),Object(n.jsx)("div",{className:"question-name_container",children:Object(n.jsx)("input",{type:"text",className:"text-input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",name:"question-wording-".concat(c)})}),!l&&Object(n.jsx)("div",{className:"add-image_container",children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("input",{onChange:function(e){N(!0),console.log("\u0414\u0415\u0411\u0410\u0413 \u0420\u0410\u041a\u0415\u0422\u0410 \u0417\u0410\u041b\u0415\u0422\u0410\u0404 :rocket:",g),function(e){var t=new FormData;t.append("picture",e),ae()({method:"post",url:"https://questimie.herokuapp.com/api/image",headers:{"Content-Type":"multipart/form-data"},data:t}).then((function(e){v(e.data.editing_key),d(e.data.picture),h(e.data.id)})).catch((function(e){return console.log(e)}))}(e.target.files[0])},type:"file",name:"question-file-".concat(c),id:"question-file-".concat(c),className:"input-file"}),Object(n.jsxs)("label",{htmlFor:"question-file-".concat(c),className:"btn-tertiary",children:[Object(n.jsx)("div",{}),Object(n.jsx)("span",{className:"js-fileName",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})]})]})}),l&&Object(n.jsx)("div",{className:"img_container",children:Object(n.jsxs)("div",{className:"img-wrap",children:[Object(n.jsx)("img",{src:l,className:"img"}),Object(n.jsx)("div",{onClick:function(){ae()({method:"delete",url:"https://questimie.herokuapp.com/api/image/".concat(O),data:{editing_key:m}}).then((function(e){d(null),h(null),v(null),console.log(e)})),N(!1)},className:"del-img-btn",children:Object(n.jsx)("div",{})})]})})||g&&Object(n.jsx)("div",{class:"loading-img_container",children:Object(n.jsx)("div",{class:"loading-img",children:Object(n.jsx)("div",{})})}),Object(n.jsx)("div",{className:"descr_container",children:Object(n.jsx)("textarea",{placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435!",rows:"6",className:"descr",name:"question-text-".concat(c)})}),Object(n.jsx)("input",{type:"hidden",value:O,name:"question-image-".concat(c)}),Object(n.jsx)("div",{className:"answers_container",children:a.map((function(e){return Object(n.jsx)(ht,{question_id:c,choise_id:e.choise_id,deleteAnswer:r})}))}),Object(n.jsx)("div",{className:"add-answer-button_container",children:Object(n.jsxs)("div",{onClick:function(){t(c)},className:"add-answer-button add-button button",children:[Object(n.jsx)("div",{className:"add-img",children:Object(n.jsx)("div",{})}),Object(n.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442"})]})})]})}c(83);function xt(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.add_test})),c=Object(Ye.f)(),i=Object(s.useState)([{question_id:0,choises:[{choise_id:0,isCorect:!1},{choise_id:1,isCorect:!1}]}]),r=Object(et.a)(i,2),o=r[0],d=r[1],j=Object(s.useState)([]),b=Object(et.a)(j,2),O=b[0];b[1];function h(e,t,c){d(function(e,t,c,n){return t.map((function(t){return t.question_id==e&&(t.choises=p(n,t.choises,c)),t}))}(e,o,t,c))}function p(e,t,c){return t.length<=1?t:t.filter((function(t){return t[c]<e?t:t[c]!=e&&t[c]>e?(t[c]-=1,t):void 0}))}function x(e,t){d(p(e,o,t))}function m(e){d((function(t){return Object(f.a)(t.map((function(c){return c.question_id===e?Object(l.a)(Object(l.a)({},c),{},{choises:[].concat(Object(f.a)(c.choises),[{choise_id:t[e].choises[t[e].choises.length-1].choise_id+1,isCorect:!1}])}):c})))}))}if(Object(u.c)((function(e){return e.user.loggedIn}))||c.push("/"),a.a.useEffect((function(){return function(){e({type:V})}}),[e]),"idle"===t.status)return Object(n.jsx)("div",{className:"content_container",children:Object(n.jsxs)("div",{className:"content__",children:[Object(n.jsxs)("div",{className:"title_container_crt",children:[Object(n.jsx)("p",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"}),O.map((function(e){return Object(n.jsx)("p",{children:e})}))]}),Object(n.jsx)("div",{className:"test-name_container",children:Object(n.jsx)("input",{type:"text",name:"quiz-quiz_name",className:"text-input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"})}),Object(n.jsxs)("div",{class:"is-private_container",children:[Object(n.jsxs)("div",{class:"checkbox",children:[Object(n.jsx)("input",{type:"checkbox",id:"is_public",className:"inp",name:"quiz-is_public"}),Object(n.jsx)("label",{for:"is_public"})]}),Object(n.jsx)("p",{children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c"})]}),Object(n.jsx)("form",{name:"quiz",className:"questions_global_container",children:o.map((function(e){return Object(n.jsx)(pt,{setImage:d,choices:e.choises,addAnswers:m,question_id:e.question_id,deleteQuestion:x,deleteAnswer:h})}))}),Object(n.jsx)("div",{className:"add-question-button_container",children:Object(n.jsxs)("div",{onClick:function(){d((function(e){return[].concat(Object(f.a)(e),[(t=e.length,{question_id:t,choises:[{choise_id:0,isCorect:!1},{choise_id:1,isCorect:!1}]})]);var t}))},className:"add-question-button add-button button",children:[Object(n.jsx)("div",{className:"add-img",children:Object(n.jsx)("div",{})}),Object(n.jsx)("p",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"})]})}),Object(n.jsx)("div",{className:"create-button_container",children:Object(n.jsx)("div",{onClick:function(){var e=document.querySelectorAll("input, textarea"),t={quiz_name:"",questions:[]};Array.from(e).forEach((function(e){var c=e.name.split("-");switch(c[0]){case"quiz":t[c[1]]="on"!==e.value?e.value:e.checked;break;case"question":var n;t.questions[parseInt(c[2])]?t.questions[parseInt(c[2])][c[1]]=e.checked?"checkbox"==e.type:e.value:t.questions[parseInt(c[2])]=(n={},Object(Ot.a)(n,c[1],"on"!==e.value?e.value:e.checked),Object(Ot.a)(n,"choices",[]),n);break;case"choice":t.questions[parseInt(c[2])].choices[parseInt(c[3])]?t.questions[parseInt(c[2])].choices[parseInt(c[3])][c[1]]="on"!==e.value?e.value:e.checked:t.questions[parseInt(c[2])].choices[parseInt(c[3])]=Object(Ot.a)({},c[1],"on"!==e.value?e.value:e.checked)}}))},className:"create-button button",children:Object(n.jsx)("p",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})});if(404===t.status)return Object(n.jsx)("p",{children:t.message.toString()});if(200===t.status){return Object(n.jsx)("div",{id:"quiz_id",className:"content__auth",children:Object(n.jsxs)("div",{className:"autorization_container",children:[Object(n.jsx)("div",{className:"title_container",children:Object(n.jsxs)("p",{className:"title",children:["\u0406\u0434 \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u0441\u0442\u0430: ",Object(n.jsx)("br",{}),Object(n.jsx)("strong",{children:t.action.quiz_id})]})}),Object(n.jsx)("div",{className:"button_container",children:Object(n.jsx)("input",{onClick:function(){var e=t.action.quiz_id,c=document.createElement("textarea"),n=document.createTextNode(e);c.appendChild(n),document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c)},type:"button",className:"button_vote button",value:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})})}}function mt(){var e=Object(u.c)((function(e){return e.quizzes})),t=Object(u.c)((function(e){return e.user.user.id})),c=Object(u.c)((function(e){return e.quiz_rating.quiz_results})),a=Object(Ye.g)().id,i=Object(u.b)();return Object(s.useEffect)((function(){i({type:G,payload:a})}),[]),Object(s.useEffect)((function(){var c;return i((c={obj:e.questions,id:a,user:t},{type:je,payload:c})),function(){return i(x())}}),[i,a]),Object(n.jsx)("div",{className:"content_container",children:Object(n.jsxs)("div",{className:"content___",children:[Object(n.jsx)("div",{className:"title_container",children:Object(n.jsx)("p",{children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})}),c.map((function(e){return Object(n.jsx)("div",{className:"quizbox_container",children:Object(n.jsxs)("div",{className:"quizbox",children:[Object(n.jsx)("div",{className:"quiz-info",children:Object(n.jsxs)("div",{className:"quiz-title",children:[Object(n.jsx)("p",{children:e.dude.name}),Object(n.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0441\u043a\u043b\u0430\u0434\u0430\u043d\u043d\u044f: ",new Date(e.pass_date).toLocaleDateString()]})]})}),Object(n.jsxs)("div",{className:"quiz-result",children:[Math.round(100*e.rating),"/100"]})]})})}))]})})}function vt(){return Object(n.jsxs)(Xe.a,{children:[Object(n.jsx)(tt,{}),Object(n.jsxs)(Ye.c,{children:[Object(n.jsx)(Ye.a,{exact:!0,path:"/",children:Object(n.jsx)(bt,{})}),Object(n.jsx)(Ye.a,{path:"/home",children:Object(n.jsx)(st,{})}),Object(n.jsx)(Ye.a,{path:"/add",children:Object(n.jsx)(xt,{})}),Object(n.jsx)(Ye.a,{path:"/quiz/:id",children:Object(n.jsx)(ot,{})}),Object(n.jsx)(Ye.a,{path:"/done/:id",children:Object(n.jsx)(mt,{})}),Object(n.jsx)(Ye.a,{path:"/results/",children:Object(n.jsx)(jt,{})})]})]})}var ft=a.a.memo(vt);var _t=function(){return Object(n.jsx)(u.a,{store:Ve,children:Object(n.jsx)(ft,{})})};r.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(_t,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.913c07ed.chunk.js.map